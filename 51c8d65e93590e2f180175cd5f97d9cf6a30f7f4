{
  "comments": [
    {
      "key": {
        "uuid": "SwWGO9iM",
        "filename": "java/README.txt",
        "patchSetId": 7
      },
      "lineNbr": 270,
      "author": {
        "id": 1020819
      },
      "writtenOn": "2013-03-29T00:37:51Z",
      "side": 1,
      "message": "I think this might be slightly problematic for a couple of (somewhat weak), but relevant reasons:\n\n1) Imagine I change the default value of a field. Clients compiled against an older version of my proto continue to match against the old default, and don\u0027t send me values even though I need them to for correctness.\n\n2) The server might have semantics which explicitly depend on whether or not you set an optional field, even if what you set it to was the default. If we never send default equivalent fields, then it\u0027s impossible for a client to activate those semantics.\n\nIt seems like this is a wire format optimization. Might not be worth it, given the potential issues it causes?",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SweGrJmk",
        "filename": "java/README.txt",
        "patchSetId": 7
      },
      "lineNbr": 270,
      "author": {
        "id": 1001401
      },
      "writtenOn": "2013-03-29T01:04:30Z",
      "side": 1,
      "message": "I wonder if we should disallow compile time defaults, instead take the go language approach and say that the only default value is the predetermined defaults defined by MessageNano. Numbers are 0 and \"strings\" are empty.",
      "parentUuid": "SwWGO9iM",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwSG-zks",
        "filename": "java/README.txt",
        "patchSetId": 7
      },
      "lineNbr": 270,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2013-03-29T04:11:56Z",
      "side": 1,
      "message": "I could get on board with what Wink said, but I don\u0027t think it\u0027s much different whether they are 0 or some other number in terms of what Brian is worried about.  \n\nOf all the options, I think the one Ulas did is probably the most compatible.",
      "parentUuid": "SweGrJmk",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwYR.qHM",
        "filename": "java/README.txt",
        "patchSetId": 7
      },
      "lineNbr": 270,
      "author": {
        "id": 1020814
      },
      "writtenOn": "2013-03-29T22:05:04Z",
      "side": 1,
      "message": "I put a comment in. Thanks Brian for raising this problem.",
      "parentUuid": "SwSG-zks",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwYHzOmQ",
        "filename": "java/src/main/java/com/google/protobuf/nano/ByteStringNano.java",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2013-03-29T04:11:56Z",
      "side": 1,
      "message": "Is this class worth it?  It seems like it\u0027s here just to provide protection from code accidentally modifying the bytes, which is the kind of thing nanoproto is assuming apps just won\u0027t do.",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwSeE-gE",
        "filename": "java/src/main/java/com/google/protobuf/nano/ByteStringNano.java",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1020814
      },
      "writtenOn": "2013-03-29T22:05:04Z",
      "side": 1,
      "message": "Done. Converting this was quite complex but I think was worth it.",
      "parentUuid": "SwYHzOmQ",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwcH7gjo",
        "filename": "java/src/main/java/com/google/protobuf/nano/CodedOutputByteBufferNano.java",
        "patchSetId": 7
      },
      "lineNbr": 752,
      "author": {
        "id": 1000701
      },
      "writtenOn": "2013-03-29T04:11:56Z",
      "side": 1,
      "message": "It would be good to include position and limit in the exception message for debugging.",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SwcQkMI4",
        "filename": "java/src/main/java/com/google/protobuf/nano/CodedOutputByteBufferNano.java",
        "patchSetId": 7
      },
      "lineNbr": 752,
      "author": {
        "id": 1020814
      },
      "writtenOn": "2013-03-29T22:05:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "SwcH7gjo",
      "revId": "51c8d65e93590e2f180175cd5f97d9cf6a30f7f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}